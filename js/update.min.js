"use strict";dotclear.ready(()=>{$("#next").hide();const t=dotclear.getData("spamplemousse2"),e=(t,e,r,s,a,o,d)=>{dotclear.servicesPost("postProgress",t=>{const e=(new DOMParser).parseFromString(t,"text/xml");n(e)},{funcClass:t,funcMethod:e,pos:r,start:s,stop:a,baseInc:o,total_elapsed:d})},n=t=>{if("ok"!==$(t).find("rsp").attr("status"))return;if(0!==$(t).find("error").length)return void window.alert(`error: ${$(t).find("error").text()}`);if(0!==$(t).find("return").length)return void $("#next").hide();const n=$(t).find("percent").text();$("#percent").empty(),$("#percent").attr("value",n),$("#percent").append(`${n}/100`);const r=$(t).find("eta").text();$("#eta").empty(),$("#eta").append((t=>{const e=new Date(1e3*t),n=e.getUTCHours(),r=e.getUTCMinutes(),s=e.getSeconds();let a="";return n&&(a+=`${n.toString().padStart(2,"0")}:`),a+=`${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`,a})(r)),e($(t).find("funcClass").text(),$(t).find("funcMethod").text(),$(t).find("pos").text(),$(t).find("start").text(),$(t).find("stop").text(),$(t).find("baseinc").text(),$(t).find("total_elapsed").text())};e(t.funcClass,t.funcMethod,t.pos,t.start,t.stop,t.baseInc,0)});
